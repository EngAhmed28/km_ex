# إدارة المستخدمين - الميزات الجديدة

## الميزات المضافة

### 1. تعديل بيانات المستخدم
- **زر التعديل** (أزرق) - يفتح نافذة تعديل
- يمكن تعديل: الاسم، البريد الإلكتروني
- التحقق من صحة البيانات قبل الحفظ

### 2. تعطيل/تفعيل المستخدم
- **زر التعطيل/التفعيل** (أصفر/أخضر)
- المستخدم المعطل لا يمكنه تسجيل الدخول
- لا يمكن تعطيل حسابك الخاص

### 3. حذف المستخدم
- **زر الحذف** (أحمر)
- حذف نهائي للمستخدم
- لا يمكن حذف حسابك الخاص

### 4. عرض الحالة
- عمود جديد "الحالة" يعرض: نشط / معطل
- لون أخضر للنشط، أحمر للمعطل

## تحديث قاعدة البيانات

قبل استخدام الميزات الجديدة، قم بتشغيل:

```sql
ALTER TABLE users ADD COLUMN IF NOT EXISTS is_active BOOLEAN DEFAULT TRUE;
UPDATE users SET is_active = TRUE WHERE is_active IS NULL;
```

أو قم بتشغيل ملف `back/config/db-add-is-active.sql` في phpMyAdmin.

## API Endpoints

- `PUT /api/admin/users/:id` - تحديث بيانات المستخدم
- `PUT /api/admin/users/:id/toggle-status` - تعطيل/تفعيل المستخدم
- `DELETE /api/admin/users/:id` - حذف المستخدم

## الأمان

- لا يمكنك تعديل/تعطيل/حذف حسابك الخاص
- جميع العمليات محمية بـ Admin Authentication
- التحقق من صحة البيانات قبل الحفظ
